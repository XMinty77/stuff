<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Cracker</title>
    <link rel="icon" href="assets/dungeonCrackerIcon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <div class="header">
            <img src="assets/dungeonCrackerIcon.png" alt="icon" class="header-icon">
            <h1>Dungeon Cracker</h1>
        </div>

        <div class="main-layout">
            <!-- Left panel: Floor grid -->
            <div class="floor-panel">
                <div class="floor-header">
                    <div class="direction-label north">North (-Z)</div>
                </div>
                <div class="floor-body">
                    <div class="direction-label west">West (-X)</div>
                    <div id="floor-grid" class="floor-grid">
                        <!-- 9x9 grid cells generated by JS -->
                    </div>
                    <div class="direction-label east">East (+X)</div>
                </div>
                <div class="floor-footer">
                    <div class="direction-label south">South (+Z)</div>
                </div>
                <div class="floor-controls">
                    <button id="btn-floor-size" class="btn">Floor Size: 9 by 9</button>
                    <button id="btn-clear-floor" class="btn">Clear Floor Pattern</button>
                </div>
                <div class="floor-legend">
                    <div class="legend-item"><img src="assets/mossy.png" alt="mossy"><span>Mossy (left-click to cycle)</span></div>
                    <div class="legend-item"><img src="assets/cobble.png" alt="cobble"><span>Cobblestone</span></div>
                    <div class="legend-item"><img src="assets/air.png" alt="air"><span>Air</span></div>
                    <div class="legend-item"><img src="assets/unknown.png" alt="unknown"><span>Unknown</span></div>
                    <div class="legend-item"><img src="assets/unknown_solid.png" alt="unknown_solid"><span>Unknown Solid</span></div>
                </div>
            </div>

            <!-- Right panel: Options + Results -->
            <div class="options-panel">
                <!-- Spawner coordinates -->
                <div class="section">
                    <h2>Spawner Coordinates</h2>
                    <div class="coord-row">
                        <label for="spawner-x">X:</label>
                        <input type="number" id="spawner-x" placeholder="e.g. 320">
                    </div>
                    <div class="coord-row">
                        <label for="spawner-y">Y:</label>
                        <input type="number" id="spawner-y" placeholder="e.g. 29">
                    </div>
                    <div class="coord-row">
                        <label for="spawner-z">Z:</label>
                        <input type="number" id="spawner-z" placeholder="e.g. -418">
                    </div>
                </div>

                <!-- Generation options -->
                <div class="section">
                    <h2>Generation Options</h2>
                    <div class="option-row">
                        <label for="mc-version">MC Version:</label>
                        <select id="mc-version">
                            <option value="1.8">1.8</option>
                            <option value="1.9">1.9</option>
                            <option value="1.10">1.10</option>
                            <option value="1.11">1.11</option>
                            <option value="1.12">1.12</option>
                            <option value="1.13" selected>1.13</option>
                            <option value="1.14">1.14</option>
                            <option value="1.15">1.15</option>
                            <option value="1.16">1.16</option>
                            <option value="1.17">1.17</option>
                        </select>
                    </div>
                    <div class="option-row">
                        <label for="biome">Biome:</label>
                        <select id="biome">
                            <option value="notdesert" selected>Not Desert</option>
                            <option value="desert">Desert</option>
                            <option value="unknown">Unknown</option>
                        </select>
                    </div>
                </div>

                <!-- Crack button -->
                <div class="section">
                    <button id="btn-crack" class="btn btn-primary" disabled>Crack Seed</button>
                </div>

                <!-- Status -->
                <div class="section" id="status-section" style="display:none;">
                    <h2>Status</h2>
                    <div id="status-text" class="status-text">Initializing WASM...</div>
                    <div id="progress-bar-container" class="progress-bar-container" style="display:none;">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                </div>

                <!-- Results -->
                <div class="section" id="results-section" style="display:none;">
                    <h2>Results</h2>
                    <div class="result-group">
                        <div class="result-header">
                            <h3>Dungeon Seeds (<span id="dungeon-count">0</span>)</h3>
                            <button class="btn btn-small" onclick="copySeeds('dungeon')">Copy</button>
                        </div>
                        <textarea id="dungeon-seeds" class="seed-list" readonly></textarea>
                    </div>
                    <div class="result-group">
                        <div class="result-header">
                            <h3>Structure Seeds (<span id="structure-count">0</span>)</h3>
                            <button class="btn btn-small" onclick="copySeeds('structure')">Copy</button>
                        </div>
                        <textarea id="structure-seeds" class="seed-list" readonly></textarea>
                    </div>
                    <div class="result-group">
                        <div class="result-header">
                            <h3>World Seeds (<span id="world-count">0</span>)</h3>
                            <button class="btn btn-small" onclick="copySeeds('world')">Copy</button>
                        </div>
                        <textarea id="world-seeds" class="seed-list" readonly></textarea>
                    </div>
                    <div class="result-actions">
                        <button class="btn" onclick="saveResults()">Save All Seeds...</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
